## week 4 day 1 exc..

create database store;
### countries
create table countries(
    code int(25) primary key,
    name varchar(25) unique ,
    continent_name varchar(25) not null
);

### users

create table users (
    id int primary key,
    email varchar(45) unique,
    gender varchar(1) check ( gender = 'm' or gender  = 'f'),
    created_at datetime default curdate(),
    country_code int,
    foreign key(country_code) references countries(code)
);

### orders

create table orders (
    id int(25) primary key,
    status varchar(6) check ( status = 'start' or status = 'finish'),
    created_at datetime default curdate(),
    user_id int,
    foreign key (user_id) references users(id)
);

### products

create table products (
    id int(25) primary key,
    price int (8) default 0,
    name varchar(25) not null,
    status varchar(7) check (status  = 'valid' or status = 'expired')
);

### order products

create table order_products (
    quantity int (15) default 0,
    created_at datetime default curdate(),
    order_id int,
    product_id int,
    foreign key (order_id) references orders(id),
    foreign key (product_id) references products(id)
);

### solution

insert into countries value (1,'KSA','Asia');
insert into users value (102,'aa1@aa.aa','m',curdate(),1);
insert into orders value (201,'start',curdate(),101);
insert into products value (301,150,'water','valid');
insert into order_products value (12,curdate(),201,301);
update countries set name = 'Saudi arabia' where code = 1;
delete from products where id = 301;
